{% extends 'base.html.twig' %}

{% block title %}MAJ TABLES{% endblock %}

{% block body %}

    <div class="container w-50 mx-auto my-5">
        <h1 class="bg-primary mt-5 mb-0 py-2 text-center">Service de gestion des données</h1>
        <h3 class="bg-success py-2 text-center">(Pour nous seulement)</h3>

        <table class="table table-striped table-hover text-left my-5">
            <thead>
                <tr class="bg-secondary">
                    <th scope="col" class="text-center">#</th>
                    <th scope="col" class="text-center">Action à effectuer via l'API</th>
                    <th scope="col" class="text-center">URL</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th scope="row" class="text-center">1</th>
                    <td class="text-center"><strong>Récupération des données à partir de l'API MOOC (fichier customers.json)</strong></td>
                    <td class="text-center"><a href="" onclick="saveAPICustomersMooc()"><i class="fa fa-floppy-o" aria-hidden="true"></i></a></td>
                </tr>
                <tr>
                    <th scope="row" class="text-center">2</th>
                    <td class="text-center"><strong>Récupération des données à partir de l'API MOOC (fichier products.json)</strong></td>
                    <td class="text-center"><a href="" onclick="saveAPIProductsMooc()"><i class="fa fa-floppy-o" aria-hidden="true"></i></a></td>
                </tr>
                <tr>
                    <th scope="row" class="text-center">3</th>
                    <td class="text-center"><strong>Mise à jours de toutes les données (vide les tables et charge le json)</strong></td>
                    <td class="text-center"><a href="{{ path("app_dataUpdateFromAPI")  }}" ><i class="fa fa-trash" aria-hidden="true"></i></a></td>
                </tr>
                <tr>
                    <th scope="row" class="text-center">4</th>
                    <td class="text-center"><strong>Effacer des données des tables non-Users(on sépare les deux services)</strong></td>
                    <td class="text-center"><a href="{{ path("app_dataResetFast")  }}" ><i class="fa fa-trash" aria-hidden="true"></i></a></td>
                </tr>
                <tr>
                    <th scope="row" class="text-center">5</th>
                    <td class="text-center"><strong>Effacer des données de la table Users (clients et revendeurs)</strong></td>
                    <td class="text-center"><a href="{{ path("app_dataResetUsers")  }}" ><i class="fa fa-trash" aria-hidden="true"></i></a></td>
                </tr>
            </tbody>
        </table>       
    </div>

    <div id="eventoutput_SaveAPIJson" class="mx-auto">        
    </div>  

{% endblock %}
{% block javascripts %}
        {# <script type="text/javascript" src="{{ asset('js/fetchAndBlobCustomers.js') }}" defer></script> #}
        <script type="text/javascript" src="{{ asset('js/fetchAndBlobProducts.js') }}" defer></script>
{% endblock %}